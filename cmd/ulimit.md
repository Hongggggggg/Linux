- ulimit [OPTIONS] [limit]

- 功能：ulimit 属 Shell 内建命令，用于查看或设置 Shell 以及通过 Shell 启动的进程使用系统资源的上限。限制分为软限制（当前限制）和硬限制，其中硬限制是软限制的上限值。如果应用程序在运行过程中使用的系统资源超过相应的软限制，将导致进程的终止。

  ​	由于系统资源有限，比如开启文件描述符的数量，进程堆栈的大小，CPU 时间，虚拟内存大小，等等，操作系统对每一个进程都有严格的限制。资源的合理限制和分配，不仅仅是保证系统可用性的必要条件，也与进程性能密不可分。这时，ulimit 可以起到很大的作用，它是一种简单并且有效的实现资源限制的方式。

- 选项说明：

  - -H，设定资源的硬限制，只有root用户可以操作
  - -S，设置资源的软限制
  - -a，显示目前所有资源设定的限制
  - -b，socket缓冲的最大值
  - -c，core文件的最大值，单位blocks
  - -d，进程数据段的最大值，单位kb
  - -e，调度优先级上限，这里的优先级指NICE值。只针对普通用户进程有效
  - -f，当前Shell可创建文件总大小的上限，单位blocks
  - -i，被挂起/阻塞的最大信号数量
  - -l，可以锁住的物理内存最大值，单位KB
  - -m，可以使用的常驻内存的最大值，单位KB
  - -n，每个进程可以同时打开的最大文件数
  - -p，管道的最大数，单位block，1 block = 512bytes
  - -q，POSIX消息队列的最大值
  - -r，限制程序实时的优先级，只针对普通进程有效
  - -s，进程栈最大值，单位KB
  - -t，最大 CPU 时间，单位 s
  - -u，用户最多可启动的进程数目
  - -v，当前 Shell 可使用的最大虚拟内存，单位 KB
  - -x，文件锁的最大数量
  - -T，线程的最大数量

- 示例：

  - 查看现有系统资源限制：

    ```bash
    ulimit -a
    ```

  - 控制进程发生段错误（Segmentation Fault）时生成coredump文件

    ```bash
    ulimit -c unlimited
    ```

  - 设置进程的栈大小无限制

    ```bash
    ulimit -s unlimited
    ```

    

